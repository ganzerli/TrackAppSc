/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./dist/js/Calls/Calls.js":
/*!********************************!*\
  !*** ./dist/js/Calls/Calls.js ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Calls; });\n/* harmony import */ var _ClientDb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ClientDb */ \"./dist/js/ClientDb/index.js\");\n/* harmony import */ var _GoalsManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../GoalsManager */ \"./dist/js/GoalsManager/index.js\");\n\r\n\r\nclass Calls {\r\n  constructor() {\r\n    this.response = [];\r\n  }\r\n\r\n  // functions for fetching the local storage\r\n\r\n  getDataFromIndexedDb() {\r\n    let promise;\r\n    const db = new _ClientDb__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\r\n    promise = db.getRecords();\r\n    return promise;\r\n    // return this.response;\r\n  }\r\n\r\n  // called from the action of the form to add an element\r\n  pushDataToIndexedDb(data) {\r\n    const db = new _ClientDb__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\r\n    db.insertRecord(data);\r\n  }\r\n\r\n  deleteFromIndexedDb(id) {\r\n    const db = new _ClientDb__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\r\n    db.deleteOne(id);\r\n  }\r\n\r\n  updateRecord(dataObj) {\r\n    const db = new _ClientDb__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\r\n    db.updateOne(dataObj);\r\n  }\r\n\r\n  checkGoal(name, sessionId, info) {\r\n    //update the goal in the storage\r\n    const gm = new _GoalsManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"](name, sessionId);\r\n    gm.writeGoal(info);\r\n  }\r\n\r\n  getGoals() {\r\n    const gm = new _GoalsManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\r\n    return gm.getGoals();\r\n  }\r\n\r\n  deleteGoal(name) {\r\n    const gm = new _GoalsManager__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\r\n    return gm.deleteGoal(name);\r\n  }\r\n  // functions to get something from remote storage\r\n  getDataFromBackend() {}\r\n  pushDataToBackend() {}\r\n}\r\n\n\n//# sourceURL=webpack:///./dist/js/Calls/Calls.js?");

/***/ }),

/***/ "./dist/js/ClientDb/index.js":
/*!***********************************!*\
  !*** ./dist/js/ClientDb/index.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ClientDb; });\nclass ClientDb {\r\n  constructor() {\r\n    this.set = [];\r\n    this.storeArray = [];\r\n    this.DB; //needed for the indexed db result\r\n    //setup the transaction type\r\n    //\r\n    // connection to db\r\n    // instanciate a new indexed database with name and version\r\n    this.recordsDb = window.indexedDB.open(\"recordsDb\", 1);\r\n\r\n    // this method runs only once when instanciated\r\n    /**\r\n     * IN THE TOOLBOX OF THE BROWSER SELECTING APPLICATION STORAGE INDEXED DB IS POSSIBLE TO DELETE AN INSTANCIATED DB IN THE BROWSER;\r\n     *  DELETING THE DB USED; WHEN THE NEW DB GET CREATED THIS METHOD RUNS AGAIN; ONLY ONCE PER DB\r\n     */\r\n    this.recordsDb.onupgradeneeded = e => {\r\n      // IDBDatabase {name: \"recordsDb\", version: 1, objectStoreNames: DOMStringList, onabort: null, onclose: null, …}\r\n      let db = e.target.result;\r\n      // ####################### INDEXED DB   -  S C H E M A  -\r\n      // keyPath is the indexes\r\n      let objectStore = db.createObjectStore(\"recordsDb\", {\r\n        keyPath: \"key\",\r\n        autoIncrement: true\r\n      });\r\n      // create the Index 1) field name, 2) keypath 3)options\r\n      objectStore.createIndex(\"title\", \"title\", { unique: false });\r\n      objectStore.createIndex(\"body\", \"body\", { unique: false });\r\n      objectStore.createIndex(\"date\", \"date\", { unique: false });\r\n      objectStore.createIndex(\"checked\", \"checked\", { unique: false });\r\n      objectStore.createIndex(\"sessionId\", \"sessionId\", { unique: false });\r\n      objectStore.createIndex(\"alarm\", \"alarm\", { unique: false });\r\n\r\n      console.log(\"database ready first time running\");\r\n    };\r\n  }\r\n\r\n  // methods of this class must get set in the db and map to this.set\r\n  fetchRecordsFromIndexedDb() {\r\n    return new Promise(resolve => {\r\n      // load the connection\r\n      // SUCCESS opening\r\n      this.recordsDb.onsuccess = () => {\r\n        this.DB = this.recordsDb.result;\r\n        // set transaction and get the object store from the store of transaction in thid db\r\n        let objectStore = this.DB.transaction(\"recordsDb\").objectStore(\r\n          \"recordsDb\"\r\n        );\r\n        // this is the method to use to get the data\r\n        objectStore.openCursor().onsuccess = e => {\r\n          // assing the cursor\r\n          // the cursor has the forst key and a proprty move next\r\n          let cursor = e.target.result;\r\n          if (cursor) {\r\n            cursor.continue();\r\n            const respObj = {\r\n              id: cursor.value.key,\r\n              title: cursor.value.title,\r\n              body: cursor.value.body,\r\n              date: cursor.value.date,\r\n              checked: cursor.value.checked,\r\n              sessionId: cursor.value.sessionId,\r\n              alarm: cursor.value.alarm\r\n            };\r\n            this.storeArray.push(respObj);\r\n          } else {\r\n            // when the cursor has finished , then return!!\r\n            resolve(this.storeArray);\r\n          }\r\n        };\r\n      };\r\n      //errors on connection\r\n      this.recordsDb.onerror = e => {\r\n        console.log(\"error\" + e);\r\n      };\r\n    });\r\n  }\r\n\r\n  async loadSetFromIndexedDb() {\r\n    let result;\r\n    // MUST BE AWAIT OR RETURNS ERROR THEN OF UNDEFINED !!\r\n    await this.fetchRecordsFromIndexedDb().then(res => {\r\n      result = [...res];\r\n      return result;\r\n    });\r\n\r\n    return result;\r\n  }\r\n  /**\r\n   * INSERT RECORT MIST SUPPLY TO THE INDEXED DB AN OBJECT WITH THE PROPS SET AS THE SCHEMA FOR TTHE DB\r\n   *\r\n   */\r\n  insertRecord(record) {\r\n    // taking the record and push into array\r\n    const theRecord = record;\r\n    // load the set\r\n    let promise = this.loadSetFromIndexedDb();\r\n\r\n    // SUCCESS opening\r\n    this.recordsDb.onsuccess = () => {\r\n      this.DB = this.recordsDb.result;\r\n      // then\r\n      let transaction = this.DB.transaction([\"recordsDb\"], \"readwrite\");\r\n      // objectStore has the keypath\r\n      let objectStore = transaction.objectStore(\"recordsDb\");\r\n      // make the request to the db\r\n      let request = objectStore.add(theRecord);\r\n      //console.log(request);\r\n      // SUCCESS\r\n      request.onsuccess = () => {\r\n        console.log(\"the record is been added\"); // if refresh form needed or something\r\n      };\r\n      transaction.oncomplete = () => {\r\n        console.log(\"transaction end, recors should be inserted\");\r\n      };\r\n      transaction.onerror = () => {\r\n        console.log(\r\n          \"something went wrong with transaction indexed Db insertrecord method\"\r\n        );\r\n      };\r\n      // SET THE SET\r\n      //this.set.unshift(record);\r\n    };\r\n    // ERROR on open\r\n    this.recordsDb.onerror = e => {\r\n      console.log(\"error\" + e);\r\n    };\r\n    // returns the set after new element is been pushed\r\n\r\n    return promise;\r\n  }\r\n\r\n  // DELETE\r\n  deleteOne(id) {\r\n    this.recordsDb.onsuccess = () => {\r\n      this.DB = this.recordsDb.result;\r\n      let transaction = this.DB.transaction([\"recordsDb\"], \"readwrite\");\r\n      let objectStore = transaction.objectStore(\"recordsDb\");\r\n      const idInteger = parseInt(id);\r\n      objectStore.delete(idInteger);\r\n      transaction.oncomplete = () => {\r\n        console.log(\"the record SHOULD BE DELETED\");\r\n      };\r\n    };\r\n    // not returning\r\n  }\r\n\r\n  //\r\n  getRecords() {\r\n    // this.loadSetFromIndexedDb(); is an ASYNC fuction AWAITING the promise returned from this.fetchRecordsFromIndexedDb()\r\n    let promise = this.loadSetFromIndexedDb();\r\n    //  ----->   to check\r\n    //console.log(promise);\r\n    //promise.then(res => console.log(res));\r\n    return promise;\r\n  }\r\n\r\n  updateOne(obj) {\r\n    // getting the element with this id\r\n\r\n    this.recordsDb.onsuccess = () => {\r\n      this.DB = this.recordsDb.result;\r\n      let transaction = this.DB.transaction([\"recordsDb\"], \"readwrite\");\r\n      let objectStore = transaction.objectStore(\"recordsDb\");\r\n\r\n      let request = objectStore.put(obj);\r\n      // sucess updating\r\n      request.onsuccess = () => {\r\n        console.log(\"success updating\");\r\n      };\r\n      //get the object\r\n      transaction.oncomplete = () => {\r\n        console.log(\"the record SHOULD BE UPDATED\");\r\n      };\r\n    };\r\n  }\r\n}\r\n\n\n//# sourceURL=webpack:///./dist/js/ClientDb/index.js?");

/***/ }),

/***/ "./dist/js/GoalsManager/index.js":
/*!***************************************!*\
  !*** ./dist/js/GoalsManager/index.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return GoalsManager; });\nclass GoalsManager {\r\n  constructor(name, sessionId) {\r\n    console.log(\"goalsmanager instanciated and redy\");\r\n    this.name = name;\r\n    this.sessionId = sessionId;\r\n    this.dataObj = JSON.parse(localStorage.getItem(\"session-goals\"));\r\n    this.info = \"\";\r\n    this.sessionIndex;\r\n    this.goalIndex;\r\n    this.done;\r\n    this.resetted = false; // is anyway not accessed from the check if not alredy checked\r\n    this.lastEnter = 0;\r\n  }\r\n\r\n  //localStorage.removeItem(key);\r\n\r\n  goalStatus() {\r\n    // GOAL STATUS\r\n    if (this.name !== \"goal-info-input\" && this.sessionId) {\r\n      ////////////////////  ^-----   SCREEN FOR BUGS   ////////////////////////////////\r\n      let status;\r\n      this.dataObj.forEach((session, index) => {\r\n        if (session.sessionId === this.sessionId) {\r\n          this.sessionIndex = index;\r\n        }\r\n        // searching for a goal, no duplicates , , looping throught the {session:\"123\" , goals:[]}\r\n\r\n        session.goals.forEach((g, i) => {\r\n          // find which index is this goal\r\n          if (g.name === this.name) {\r\n            //remember index\r\n            this.goalIndex = i;\r\n            /// check for last time !!!!\r\n            const tenSeconds = 1000 * 10;\r\n            if (Date.now() - g.last > tenSeconds * 6) {\r\n              console.log(\"time check ok\");\r\n              if (!g.done) {\r\n                //to check as done\r\n                this.done = true;\r\n              } else if (g.done) {\r\n                this.resetted = true;\r\n                //to check as reminded\r\n              }\r\n              this.lastEnter = Date.now();\r\n              status = true;\r\n            } else {\r\n              console.log(\"something wrong:   date.now was to near  \");\r\n              status = false;\r\n            }\r\n          }\r\n        });\r\n      });\r\n      return status;\r\n      /////////////////////screen for bugs -- keep -- ///////-------v\r\n    } else {\r\n      console.log(\"something wrong:     first screen not passed\");\r\n      return false;\r\n    }\r\n  }\r\n\r\n  writeGoal(newInfo) {\r\n    const info = newInfo || \"\";\r\n    this.info = info;\r\n\r\n    if (this.goalStatus()) {\r\n      // everything should have a sense now\r\n      //getting reference from stored object from the local storage\r\n      const newObject = {\r\n        name: this.name,\r\n        done: this.done,\r\n        resetted: this.resetted,\r\n        info: this.info,\r\n        last: this.lastEnter\r\n      };\r\n\r\n      this.dataObj[this.sessionIndex].goals[this.goalIndex] = newObject;\r\n      localStorage.setItem(\"session-goals\", JSON.stringify(this.dataObj));\r\n      return newObject;\r\n    }\r\n  }\r\n\r\n  getGoals() {\r\n    let goals = [];\r\n    const itemArr = JSON.parse(localStorage.getItem(\"session-goals\"));\r\n    if (itemArr) {\r\n      goals = [...itemArr];\r\n    }\r\n    return goals;\r\n  }\r\n\r\n  deleteGoal(name) {\r\n    let sessionIndex;\r\n    let goalIndex;\r\n    const itemArr = JSON.parse(localStorage.getItem(\"session-goals\"));\r\n    // search throught\r\n    itemArr.forEach((session, i) => {\r\n      session.goals.forEach((goal, ind) => {\r\n        console.log(i, ind);\r\n        if (goal.name === name) {\r\n          // remember the indexes\r\n          sessionIndex = i;\r\n          goalIndex = ind;\r\n        }\r\n      });\r\n    });\r\n\r\n    itemArr[sessionIndex].goals.splice([goalIndex], 1);\r\n\r\n    localStorage.setItem(\"session-goals\", JSON.stringify(itemArr));\r\n    return itemArr;\r\n  }\r\n}\r\n\n\n//# sourceURL=webpack:///./dist/js/GoalsManager/index.js?");

/***/ }),

/***/ "./dist/js/Templates/functionTemplates.js":
/*!************************************************!*\
  !*** ./dist/js/Templates/functionTemplates.js ***!
  \************************************************/
/*! exports provided: fillResultFromRecord, fillResultFromGoal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fillResultFromRecord\", function() { return fillResultFromRecord; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fillResultFromGoal\", function() { return fillResultFromGoal; });\n/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../actions */ \"./dist/js/actions/index.js\");\n\r\n\r\nconst fillResultFromRecord = recordObj => {\r\n  // takes the object and returns a template\r\n  const theDate = new Date(recordObj.date).toLocaleString();\r\n  const jsonString = JSON.stringify(recordObj);\r\n  const bgClass = recordObj.checked === \"true\" ? \"checked\" : \"\";\r\n\r\n  const sessionBorder = () => {\r\n    const sessionNumbers = recordObj.sessionId\r\n      .split(\"\")\r\n      .splice(recordObj.sessionId.length - 6, recordObj.sessionId.length)\r\n      .join(\"\");\r\n\r\n    const style = `style=\"\r\n                          border-right:5px solid #${sessionNumbers}; \r\n                          border-bottom: 1px solid #${sessionNumbers};\r\n                          \r\n                          \"`;\r\n    return style;\r\n  };\r\n  //see if current session using get sessionid\r\n  const checkSession = () => {\r\n    if (Object(_actions__WEBPACK_IMPORTED_MODULE_0__[\"getIdSession\"])() === recordObj.sessionId) {\r\n      return \"Current Session\";\r\n    } else {\r\n      return recordObj.sessionId;\r\n    }\r\n  };\r\n  // get the goals from local storage\r\n  const insertGoals = () => {\r\n    const storedArray = JSON.parse(localStorage.getItem(\"session-goals\"));\r\n    if (storedArray) {\r\n      let goals;\r\n      // loop throught sessions {sessionId:12345, goals[]}\r\n      for (let i in storedArray) {\r\n        //check which is the session\r\n        if (recordObj.sessionId === storedArray[i].sessionId) {\r\n          // if this session Object has ever had goals, they are displayed\r\n          goals = [...storedArray[i].goals];\r\n        }\r\n      }\r\n\r\n      //if for this session there are goals;\r\n      if (goals) {\r\n        let result = goals.map(\r\n          goal =>\r\n            ` \r\n            <form onsubmit=\"return false\" loading-id=\"form-info-goal\" class=\"the-form\">\r\n            <span\r\n              class=\"result-record-onegoal ${goalStyle(\r\n                goal.done,\r\n                goal.resetted\r\n              )}\"\r\n              session-id=\"${recordObj.sessionId}\"\r\n              loading-id=\"${goal.name}\"\r\n            >\r\n              ${goal.name}\r\n\r\n            </span>\r\n            <br />\r\n      \r\n            <input\r\n              loading-id=\"goal-info-input\"\r\n              type=\"text\"\r\n              name=\"infogoal\"\r\n              class=\"result-record-textfield\"\r\n            />\r\n            <input type=\"submit\" loading-id=\"goal-info-input\" name=\"submit\" class=\"btn-submit-goals\" />\r\n          </form>\r\n          \r\n            `\r\n        );\r\n        return `\r\n        <span loading-id=\"goals-listener\" class=\"result-record-goals\">\r\n          ${result.join(\"\")}\r\n        </span>\r\n        `;\r\n        //make span line\r\n      } else {\r\n        //if no goals for this session return an empty string\r\n        return \"  ----> no goals\";\r\n      }\r\n    } else {\r\n      // no local storage\r\n      return \"---> no goals\";\r\n    }\r\n  };\r\n\r\n  // style goals\r\n  const goalStyle = (done, resetted) => {\r\n    let resClass = \"goal\";\r\n    if (done && !resetted) {\r\n      resClass = \"green\";\r\n    }\r\n    if (resetted) {\r\n      resClass = \"red\";\r\n    }\r\n    return resClass; //different class or styles for different value\r\n  };\r\n\r\n  const isAlarm = recordObject => {\r\n    if (recordObject.alarm) {\r\n      if (recordObj.alarm !== \"\" || recordObj.body === \"\") {\r\n        return true;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  isAlarm(recordObj);\r\n\r\n  const setAlarmStyle = recordObj => {\r\n    if (isAlarm(recordObj)) {\r\n      //return a class for alarm\r\n      return \"alarm\";\r\n    } else {\r\n      return \"\";\r\n    }\r\n  };\r\n\r\n  return `\r\n  <div class=\"result-record-container ${bgClass} ${setAlarmStyle(\r\n    recordObj\r\n  )}\" json-data='${jsonString}' loading-id=\"result-record-${\r\n    recordObj.id\r\n  }\"  ${sessionBorder()}   >\r\n    <h4 class=\"result-record-session\">${\r\n      isAlarm(recordObj) ? \"ALARM\" : checkSession()\r\n    }  </h4>\r\n    <small> ${insertGoals()} </small>\r\n    <h3 class=\"result-record-title\">${recordObj.title}</h3>\r\n\r\n    ${\r\n      isAlarm(recordObj)\r\n        ? \"\"\r\n        : '<button class=\"result-record-btn-marktext\" loading-id=\"select-highlighted\">selext</button>'\r\n    }\r\n    \r\n    <p class=\"result-record-body\">${recordObj.body}</p>\r\n    <span class=\"result-record-date\" loading-id=\"date-${\r\n      recordObj.date\r\n    }\">${theDate}</span>\r\n    <span class=\"result-record-marked\" loading-id=\"check-record-${\r\n      recordObj.id\r\n    }\"> ${recordObj.checked}</span>\r\n    <button class=\"result-record-delete\" loading-id=\"delete-record-${\r\n      recordObj.id\r\n    }\">DELETE</button>\r\n    \r\n  </div>\r\n  `;\r\n};\r\n\r\n//#####################################################################################################################################################\r\n//####################################################################################################################################################\r\n//####################################################################################################################################################\r\n//####################################################################################################################################################\r\n\r\nconst fillResultFromGoal = obj => {\r\n  const btnStatus = goal => {\r\n    const js = JSON.stringify(goal);\r\n\r\n    console.log(js);\r\n    if (goal.resetted) {\r\n      return `\r\n      <form\r\n        session-id=\"${obj.sessionId}\"\r\n        info-obj='${js}'\r\n        onsubmit=\"return false\"\r\n        loading-id=\"form-info-goal\"\r\n        class=\"the-form\"\r\n      >\r\n        <input\r\n          loading-id=\"goal-info-inputField\"\r\n          type=\"text\"\r\n          name=\"infogoal\"\r\n          class=\"goal-info-inputField\"\r\n        />\r\n        <input\r\n          type=\"submit\"\r\n          loading-id=\"goal-info-submit\"\r\n          name=\"submit\"\r\n          class=\"btn-submit-goals\"\r\n          value=\"x\"\r\n        />\r\n        </form>\r\n        `;\r\n    }\r\n    if (goal.done) {\r\n      return `\r\n      <form\r\n        session-id=\"${obj.sessionId}\"\r\n        info-obj='${js}'\r\n        onsubmit=\"return false\"\r\n        loading-id=\"form-info-goal\"\r\n        class=\"the-form\"\r\n      >\r\n        <input\r\n          loading-id=\"goal-info-inputField\"\r\n          type=\"text\"\r\n          name=\"infogoal\"\r\n          class=\"goal-info-inputField\"\r\n        />\r\n        <input\r\n          type=\"submit\"\r\n          loading-id=\"goal-info-submit\"\r\n          name=\"submit\"\r\n          class=\"btn-submit-goals\"\r\n          value=\"reset\"\r\n        />\r\n        </form>\r\n        `;\r\n    } else {\r\n      return `\r\n      <form\r\n      session-id=\"${obj.sessionId}\"\r\n      info-obj='${js}'\r\n      onsubmit=\"return false\"\r\n      loading-id=\"form-info-goal\"\r\n      class=\"the-form\"\r\n    >\r\n      <input\r\n        loading-id=\"goal-info-inputField\"\r\n        type=\"text\"\r\n        name=\"infogoal\"\r\n        class=\"goal-info-inputField\"\r\n      />\r\n      <input\r\n        type=\"submit\"\r\n        loading-id=\"goal-info-submit\"\r\n        name=\"submit\"\r\n        class=\"btn-submit-goals\"\r\n        value=\"to Do!\"\r\n      />\r\n      </form>\r\n      `;\r\n    }\r\n  };\r\n\r\n  const getStauts = goal => {\r\n    if (goal.resetted) {\r\n      return '<span class=\"goal\">Goal Resetted</span>';\r\n    }\r\n    if (goal.done) {\r\n      return '<span class=\"green\">Goal Done</span>';\r\n    } else {\r\n      return '<span class=\"goal\">Goal To Do</span>';\r\n    }\r\n  };\r\n\r\n  const goalsInfo = goals => {\r\n    let result = goals.map(\r\n      g => `<div class=\"goal-container loading-id=\"${g.name}\">\r\n      <h3 class=\"result-goal-name\">${g.name}</h3>\r\n      <span class=\"result-goal-status\">${getStauts(g)}</span>\r\n      <span class=\"result-goal-status-btn\">${btnStatus(g)}</span>\r\n      <p class=\"result-goal-info\">${g.info}</p>\r\n      <button class=\"btn-goal-delete\" sessionId=\"${\r\n        obj.sessionId\r\n      }\" loading-id=\"delete-goal\" info=\"${g.name}\">delete</button>\r\n      </div>`\r\n    );\r\n    return result.join(\"\");\r\n  };\r\n  return `<div class=\"result-goal-container\" loading-id=\"result-goal\">\r\n  <h3 class=\"result-record-title\">${obj.sessionId}</h3>\r\n  <div class=\"goal-display\">${goalsInfo(obj.goals)}</div>\r\n  </div>`;\r\n};\r\n\n\n//# sourceURL=webpack:///./dist/js/Templates/functionTemplates.js?");

/***/ }),

/***/ "./dist/js/Templates/index.js":
/*!************************************!*\
  !*** ./dist/js/Templates/index.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Templates; });\n/* harmony import */ var _templatesArr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./templatesArr */ \"./dist/js/Templates/templatesArr.js\");\n/* harmony import */ var _functionTemplates__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./functionTemplates */ \"./dist/js/Templates/functionTemplates.js\");\n\r\n\r\n\r\nclass Templates {\r\n  constructor() {\r\n    this.template = \"\";\r\n  }\r\n\r\n  //looking in the templates array the right template for this element of the current page\r\n  matchTemplate(templatesArr, toset) {\r\n    // looping throught an pbject of the templates seeing which has the attribute.. and take the html\r\n    templatesArr.forEach(templateObj => {\r\n      if (templateObj.name === toset) {\r\n        this.template = templateObj.html;\r\n        return this.template;\r\n      }\r\n    });\r\n    // if no template found in the array of templatesArr return the template\r\n    return this.template;\r\n  }\r\n\r\n  getAssignedHtml(ph) {\r\n    // taking current page to match the name of the template in templatesArray\r\n    const toset = ph.getCurrentPage();\r\n    // returns the template found\r\n    return this.matchTemplate(_templatesArr__WEBPACK_IMPORTED_MODULE_0__[\"templatesArr\"], toset);\r\n  }\r\n\r\n  // resultSet comes from the action, passed with ph in the view, in case of result component to update passes the result set\r\n  getResultElements(resultSet, ph) {\r\n    // getting the result set from the page handler, loop throught the array and generate tempplate for each element,\r\n    this.template = \"\";\r\n    if (ph.getCurrentPage() === \"LOAD-RESULTS\") {\r\n      resultSet.forEach(obj => {\r\n        // somehow pass the obkect and return the template\r\n        this.template += Object(_functionTemplates__WEBPACK_IMPORTED_MODULE_1__[\"fillResultFromRecord\"])(obj);\r\n      });\r\n    } else if (ph.getCurrentPage() === \"LOAD-GOALS\") {\r\n      resultSet.forEach(obj => {\r\n        // somehow pass the obkect and return the template\r\n        this.template += Object(_functionTemplates__WEBPACK_IMPORTED_MODULE_1__[\"fillResultFromGoal\"])(obj);\r\n      });\r\n    }\r\n    return this.template;\r\n  }\r\n\r\n  refreshSubtitle(page) {\r\n    this.template = page;\r\n    return this.template;\r\n  }\r\n}\r\n\n\n//# sourceURL=webpack:///./dist/js/Templates/index.js?");

/***/ }),

/***/ "./dist/js/Templates/templatesArr.js":
/*!*******************************************!*\
  !*** ./dist/js/Templates/templatesArr.js ***!
  \*******************************************/
/*! exports provided: templatesArr */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"templatesArr\", function() { return templatesArr; });\nconst templatesArr = [\r\n  // FIRST WRAPPER MUST HAVE THE LOADING-ID ATTRIBUTE TO CALL THE FUNCTION FROM THE FORM\r\n  {\r\n    name: \"INSERT-DATA\",\r\n    html: `\r\n    <div class=\"form-wrap\" loading-id=\"INSERT-DATA\"> \r\n    <div class=\"form-group form-group-input\">\r\n        <input loading-id=\"title\" type=\"text\" name=\"title\" placeholder=\"title\" class=\"form-input-text\" />\r\n    </div>\r\n    <div class=\"form-group form-group-input\">\r\n        <input loading-id=\"body\" type=\"text\" name=\"body\" placeholder=\"body\" class=\"form-input-text\" />\r\n    </div>\r\n    <div class=\"form-group form-group-submit\">\r\n        <input\r\n        type=\"submit\"\r\n        name=\"submit\"\r\n        value=\"submit\"\r\n        class=\"form-input-submit\"\r\n        />\r\n    </div>\r\n    </div>\r\n    `\r\n  },\r\n  // FIRST WRAPPER MUST HAVE THE LOADING-ID ATTRIBUTE TO CALL THE FUNCTION FROM THE FORM\r\n  {\r\n    name: \"SEARCH-DATA\",\r\n    html: `\r\n    <div class=\"form-wrap\" loading-id=\"SEARCH-DATA\"> \r\n    <div class=\"form-group form-group-input\">\r\n        <input loading-id=\"input-search\" type=\"text\" name=\"search\" class=\"form-input-text\" />\r\n    </div>\r\n    <div class=\"form-group form-group-submit\">\r\n        <input\r\n        type=\"submit\"\r\n        name=\"submit\"\r\n        value=\"ALL\"\r\n        class=\"form-input-submit\"\r\n        />\r\n    </div>\r\n    </div>\r\n    `\r\n  },\r\n  // FIRST WRAPPER MUST HAVE THE LOADING-ID ATTRIBUTE TO CALL THE FUNCTION FROM THE FORM\r\n  {\r\n    name: \"LOAD-SESSION-GOAL\",\r\n    html: `\r\n    <div class=\"form-wrap\" loading-id=\"LOAD-SESSION-GOAL\"> \r\n    <div class=\"form-group form-group-input\">\r\n        <input loading-id=\"session-goal-input\" type=\"text\" name=\"goal\" class=\"form-input-text\" />\r\n    </div>\r\n    <div class=\"form-group form-group-submit\">\r\n        <input\r\n        type=\"submit\"\r\n        name=\"submit\"\r\n        value=\"set Goal\"\r\n        class=\"form-input-submit\"\r\n        />\r\n    </div>\r\n    <button class=\"btn-form-load\" loading-id=\"load-goals\" >MANAGE GOALS</button>\r\n    </div>\r\n    `\r\n  },\r\n  // FIRST WRAPPER MUST HAVE THE LOADING-ID ATTRIBUTE TO CALL THE FUNCTION FROM THE FORM\r\n  {\r\n    name: \"LOAD-ALARM-INPUT\",\r\n    html: `\r\n    <div class=\"form-wrap\" loading-id=\"LOAD-ALARM-INPUT\"> \r\n    <div class=\"form-group form-group-input\">\r\n        <input loading-id=\"alarm-name\" type=\"text\" name=\"alarm-name\" placeholder=\"alarm\" class=\"form-input-text\" />\r\n    </div>\r\n    <div class=\"form-group form-group-input\">\r\n        <input loading-id=\"alarm-day\" type=\"date\" name=\"alarm-day\" class=\"form-input-text\" />\r\n    </div>\r\n    <div class=\"form-group form-group-input\">\r\n        <input loading-id=\"alarm-time-hours\"  type=\"number\" name=\"alarm-time-hours\" placeholder=\"00\" min=\"0\" max=\"23\" class=\"form-input-text\" />\r\n        <label for=\"alarm-time-hours\" class=\"form-input-label\">Hour</label>\r\n        <input loading-id=\"alarm-time-minutes\"  type=\"number\" name=\"alarm-time-minutes\" placeholder=\"00\" min=\"0\" max=\"59\" class=\"form-input-text\" />\r\n        <label for=\"alarm-time-minutes\" class=\"form-input-label\">Minutes</label>\r\n    </div>\r\n\r\n    <div class=\"form-group form-group-submit\">\r\n        <input\r\n        type=\"submit\"\r\n        name=\"submit\"\r\n        value=\"submit\"\r\n        class=\"form-input-submit\"\r\n        />\r\n    </div>\r\n    </div>\r\n    `\r\n  }\r\n  // FIRST WRAPPER MUST HAVE THE LOADING-ID ATTRIBUTE TO CALL THE FUNCTION FROM THE FORM\r\n  // FIRST WRAPPER MUST HAVE THE LOADING-ID ATTRIBUTE TO CALL THE FUNCTION FROM THE FORM\r\n];\r\n\n\n//# sourceURL=webpack:///./dist/js/Templates/templatesArr.js?");

/***/ }),

/***/ "./dist/js/View/index.js":
/*!*******************************!*\
  !*** ./dist/js/View/index.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return View; });\n/* harmony import */ var _Templates__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Templates */ \"./dist/js/Templates/index.js\");\n\r\n\r\nclass View {\r\n  constructor() {}\r\n\r\n  fill(array, ph = null) {\r\n    // looping throught the interested elements\r\n    let value;\r\n    array.forEach(domElement => {\r\n      // removing old elements\r\n      domElement.innerHTML = \"\";\r\n      // getting the page to send for the tmeplate\r\n      const interestedAttribute = domElement.attributes[\"loading-id\"].value;\r\n      // see which template matches the attributes and return the right html for this element\r\n      switch (interestedAttribute) {\r\n        case \"result-container\":\r\n          //get dinamic template from object\r\n          // get the template with results from the pages handler\r\n          if (false) {} else {\r\n            const resultSet = ph.getResultSet();\r\n            value = _Templates__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype.getResultElements(resultSet, ph);\r\n            value ? (domElement.innerHTML = value) : undefined;\r\n          }\r\n          break;\r\n        case \"form-commands\":\r\n          // get static templates\r\n          value = _Templates__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype.getAssignedHtml(ph);\r\n          // set the template as content of the dom element in scope  ---  domElement  --\r\n          value ? (domElement.innerHTML = value) : undefined;\r\n\r\n          break;\r\n        case \"subtitle\":\r\n          // get static templates\r\n          const page = ph.getCurrentPage();\r\n          value = _Templates__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype.refreshSubtitle(page);\r\n          value ? (domElement.innerHTML = value) : undefined;\r\n\r\n          break;\r\n        default:\r\n          console.log(\"ERROR : switch in View/index.js does not work fine\");\r\n          console.log(\" A VIEW FOR THIS ATTRIBUTE IS NOT SET in class View\");\r\n      }\r\n    });\r\n  }\r\n}\r\n\n\n//# sourceURL=webpack:///./dist/js/View/index.js?");

/***/ }),

/***/ "./dist/js/actions/index.js":
/*!**********************************!*\
  !*** ./dist/js/actions/index.js ***!
  \**********************************/
/*! exports provided: loadRecords, insertRecord, loadSearchData, loadInsertData, deleteRecord, checkRecord, getIdSession, searchRecord, getHTMLOfSelection, loadInputsSessionGoal, setGoal, checkGoalFromRecord, loadInputAlarm, setAlarm, refreshResultGoals */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadRecords\", function() { return loadRecords; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"insertRecord\", function() { return insertRecord; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadSearchData\", function() { return loadSearchData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadInsertData\", function() { return loadInsertData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"deleteRecord\", function() { return deleteRecord; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkRecord\", function() { return checkRecord; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getIdSession\", function() { return getIdSession; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"searchRecord\", function() { return searchRecord; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getHTMLOfSelection\", function() { return getHTMLOfSelection; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadInputsSessionGoal\", function() { return loadInputsSessionGoal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setGoal\", function() { return setGoal; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"checkGoalFromRecord\", function() { return checkGoalFromRecord; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadInputAlarm\", function() { return loadInputAlarm; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setAlarm\", function() { return setAlarm; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"refreshResultGoals\", function() { return refreshResultGoals; });\n/* harmony import */ var _pages_domSelector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../pages/domSelector */ \"./dist/js/pages/domSelector.js\");\n/* harmony import */ var _View__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../View */ \"./dist/js/View/index.js\");\n/* harmony import */ var _pages_pageHandler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../pages/pageHandler */ \"./dist/js/pages/pageHandler.js\");\n/* harmony import */ var _Calls_Calls__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Calls/Calls */ \"./dist/js/Calls/Calls.js\");\n/* harmony import */ var _eventListeners__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../eventListeners */ \"./dist/js/eventListeners/index.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n// actions are called from the event listeners, must initiate an instance of view and ph to pass to the vieew changing the page\r\n\r\n/**\r\n *  THE PAGEHANDLER KEEPS THE PAGE AND THE RESULT SET; SO WHEN PASSED TO THE VIEW, THE VIEW HAS THE INFO TO GIVE TO THE SELECTED COMPONENTS\r\n * IN THE WAY HOW THE TEMPLATE IS IMPLEMENTED\r\n */\r\n\r\n// get the records from somewhere and paint the result\r\nconst loadRecords = () => {\r\n  const view = new _View__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\r\n  const ph = new _pages_pageHandler__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\r\n  const call = new _Calls_Calls__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\r\n\r\n  const promise = call.getDataFromIndexedDb();\r\n  //result set must be  in the format [{id, title, body},{},...]\r\n  promise.then(data => {\r\n    /// first order the array!!\r\n    let sortedArray = sortObjectsByDate(data);\r\n    // console.log(sortedArray);\r\n    ph.setResultSet(sortedArray);\r\n    // set the new page to load\r\n    ph.setCurrentPage(\"LOAD-RESULTS\");\r\n    // take the element wanted and prepare layout with page\r\n    const page = ph.getCurrentPage();\r\n    const elementsArray = Object(_pages_domSelector__WEBPACK_IMPORTED_MODULE_0__[\"domSelector\"])(page);\r\n    // the view needs this instance of the object to load the html template extracting the oject of records\r\n    view.fill(elementsArray, ph);\r\n    console.log(\r\n      \"###############--------result refreshed-----------####################\"\r\n    );\r\n    Object(_eventListeners__WEBPACK_IMPORTED_MODULE_4__[\"goalListener\"])();\r\n  });\r\n};\r\n\r\n/*\r\n *   to search get the records and filter for the criteria\r\n */\r\n\r\nconst insertRecord = parentElement => {\r\n  // attribute is defied in the template\r\n  const title = parentElement.querySelector(\"[loading-id=title]\").value;\r\n  const body = parentElement.querySelector(\"[loading-id=body]\").value;\r\n\r\n  if (title === \"\" || title === \" \" || body === \"\" || body === \" \") {\r\n    console.log(\"something empty\");\r\n  } else {\r\n    // load needed classes\r\n    const call = new _Calls_Calls__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\r\n\r\n    // session id\r\n\r\n    //\r\n    const sessionId = getIdSession();\r\n    console.log(sessionId);\r\n    // format record\r\n    const record = {\r\n      title,\r\n      body,\r\n      date: Date.now(),\r\n      checked: \"false\",\r\n      sessionId,\r\n      alarm: \"\"\r\n    };\r\n    // in this method of call get <-----------  initialized the DB\r\n    call.pushDataToIndexedDb(record);\r\n    // the call pushes to the indexed db the new record\r\n    loadRecords();\r\n    // load records gets all from the indexed db and reloads the page\r\n  }\r\n};\r\n\r\n/** IN DOM SELECTOR ARE DEFINED WHICH ELEMENTS ARE TO RELOAD WHEN CHANGING THE VIEW, ADDING SIMPLY AN ELEMENT TO THE ARRAY,\r\n * AND SPECIFYING IN THE VIEW HOW TO GET THE TEMPLATE.\r\n */\r\n\r\n// loads ONLY THE FORM WITH STATIC TEMPLATE\r\nconst loadSearchData = () => {\r\n  const view = new _View__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\r\n  const ph = new _pages_pageHandler__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\r\n  // set the new page to load\r\n  ph.setCurrentPage(\"SEARCH-DATA\");\r\n  // take the element wanted and prepare layout with page\r\n  const page = ph.getCurrentPage();\r\n  const elementsArray = Object(_pages_domSelector__WEBPACK_IMPORTED_MODULE_0__[\"domSelector\"])(page);\r\n  // the view needs this instance of the object to load the html template extracting the oject of records\r\n  view.fill(elementsArray, ph);\r\n};\r\n\r\n// LOADS ONL THE FORM FROM STATIC TEMPLATEfor to insert the data\r\nconst loadInsertData = () => {\r\n  const view = new _View__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\r\n  const ph = new _pages_pageHandler__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\r\n  // set the new page to load\r\n  ph.setCurrentPage(\"INSERT-DATA\");\r\n  // take the element wanted and prepare layout with page\r\n  const page = ph.getCurrentPage();\r\n  const elementsArray = Object(_pages_domSelector__WEBPACK_IMPORTED_MODULE_0__[\"domSelector\"])(page);\r\n  // the view needs this instance of the object to load the html template extracting the oject of records\r\n  view.fill(elementsArray, ph);\r\n};\r\n\r\nconst deleteRecord = id => {\r\n  const call = new _Calls_Calls__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\r\n  call.deleteFromIndexedDb(id);\r\n  // deleting it directly from ui without loading the new view\r\n  const parent = document.querySelector(`[loading-id=result-container]`);\r\n  const deleted = document.querySelector(`[loading-id=result-record-${id}]`);\r\n  parent.removeChild(deleted);\r\n};\r\n\r\nconst checkRecord = id => {\r\n  const call = new _Calls_Calls__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\r\n  // get infos for the object\r\n  const element = document.querySelector(`[loading-id=result-record-${id}]`);\r\n  let data = element.getAttribute(\"json-data\");\r\n  // preparing the object to update\r\n  data = JSON.parse(data);\r\n  // toggle the checked value\r\n\r\n  let checkedHtmlElement = element.querySelector(\r\n    `[loading-id=check-record-${id}]`\r\n  );\r\n\r\n  if (data.checked === \"true\") {\r\n    checkedHtmlElement.innerHTML = \"false\";\r\n    data.checked = \"false\";\r\n  } else {\r\n    checkedHtmlElement.innerHTML = \"true\";\r\n    data.checked = \"true\";\r\n  }\r\n  call.updateRecord(data);\r\n};\r\n\r\nconst sortObjectsByDate = arr => {\r\n  // take smallest date and insert as [0]of an array\r\n  return arr.sort((a, b) => b.date - a.date);\r\n};\r\n\r\nconst getIdSession = () => {\r\n  // check in local storage if there is\r\n  let storage = localStorage.getItem(\"current-session-id\");\r\n  let lastSessionEnter = localStorage.getItem(\"last-session-enter\");\r\n  const nowStr = Date.now().toString();\r\n\r\n  if (!storage || !lastSessionEnter) {\r\n    // set the first session id\r\n    localStorage.setItem(\"current-session-id\", nowStr);\r\n    localStorage.setItem(\"last-session-enter\", nowStr);\r\n    //console.log(\"item set in local storage ..\" + nowStr);\r\n    return nowStr;\r\n  } else {\r\n    // there is a current-session-id item in local storage\r\n    const currentSession = parseInt(storage);\r\n    const now = parseInt(nowStr);\r\n    const oneMinute = 60000; // 60 000 ms ---> 60 s\r\n    const oneHour = oneMinute * 60;\r\n    // if now is more then toWait from the last record enter , register new session\r\n\r\n    if (now - parseInt(lastSessionEnter) > oneHour * 8) {\r\n      //get a new id\r\n      localStorage.setItem(\"current-session-id\", nowStr);\r\n      localStorage.setItem(\"last-session-enter\", nowStr);\r\n      console.log(\"time is gone.. set new id \" + nowStr);\r\n      return nowStr;\r\n    } else {\r\n      // keep the last session id\r\n\r\n      localStorage.setItem(\"last-session-enter\", nowStr);\r\n      //  console.log(\"is about the same time.. keep id \" + storage);\r\n      return storage;\r\n    }\r\n  }\r\n};\r\n\r\nconst searchRecord = value => {\r\n  const view = new _View__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\r\n  const ph = new _pages_pageHandler__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\r\n  const call = new _Calls_Calls__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\r\n\r\n  //only first time\r\n  const promise = call.getDataFromIndexedDb();\r\n  //result set must be  in the format [{id title body},{},...]\r\n  promise.then(data => {\r\n    /// first order the array!!\r\n    let sortedArray = sortObjectsByDate(data);\r\n    let leftArray = filterByValue(sortedArray, value);\r\n    console.log(leftArray);\r\n    ph.setResultSet(leftArray);\r\n    // set the new page to load\r\n    ph.setCurrentPage(\"LOAD-RESULTS\");\r\n    // take the element wanted and prepare layout with page\r\n    const page = ph.getCurrentPage();\r\n    const elementsArray = Object(_pages_domSelector__WEBPACK_IMPORTED_MODULE_0__[\"domSelector\"])(page);\r\n    // the view needs this instance of the object to load the html template extracting the oject of records\r\n    view.fill(elementsArray, ph);\r\n  });\r\n};\r\n\r\nconst filterByValue = (arr, value) => {\r\n  let filtered = [];\r\n  // loop throught each element\r\n  for (let i in arr) {\r\n    const object = arr[i];\r\n    const theDate = new Date(object.date).toLocaleString();\r\n    //chech if the title contains the value\r\n    if (\r\n      object.title.includes(value) ||\r\n      object.body.includes(value) ||\r\n      theDate.includes(value)\r\n    ) {\r\n      filtered.push(object);\r\n    }\r\n  }\r\n  return filtered;\r\n};\r\n\r\n// when called on a button it console.log the selected html\r\nfunction getHTMLOfSelection() {\r\n  var range;\r\n  if (document.selection && document.selection.createRange) {\r\n    range = document.selection.createRange();\r\n    console.log(range.htmlText);\r\n  } else if (window.getSelection) {\r\n    var selection = window.getSelection();\r\n    if (selection.rangeCount > 0) {\r\n      range = selection.getRangeAt(0);\r\n      var clonedSelection = range.cloneContents();\r\n\r\n      var div = document.createElement(\"div\");\r\n      div.appendChild(clonedSelection);\r\n      console.log(div.innerHTML);\r\n    } else {\r\n      return \"\";\r\n    }\r\n  } else {\r\n    return \"\";\r\n  }\r\n}\r\n\r\n/**\r\n * LOADS ONLY THE FORM, so the result staythe same until refreshed\r\n */\r\nconst loadInputsSessionGoal = () => {\r\n  const ph = new _pages_pageHandler__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\r\n  const view = new _View__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\r\n  //set the page in the page handler, for the dom selector and view\r\n  ph.setCurrentPage(\"LOAD-SESSION-GOAL\");\r\n  //inside the domSelector set the element needed for this page\r\n  const elementsArray = Object(_pages_domSelector__WEBPACK_IMPORTED_MODULE_0__[\"domSelector\"])(ph.getCurrentPage());\r\n  // give the array to the view to load the form\r\n  view.fill(elementsArray, ph);\r\n};\r\n\r\nconst setGoal = form => {\r\n  const goal = form.querySelector(\"[loading-id=session-goal-input]\").value;\r\n  if (!goal || goal === \"\" || goal === \" \" || goal === \"  \") {\r\n    // NOTHING WRITTEN NO GOAL\r\n    return;\r\n  } else {\r\n    // SOMETHING WRITTEN INSIDE :: CONTINUE\r\n    // SAVE GOAL IN LOCAL STORAGE UNDER THIS SESSION ID\r\n    const currentSessionId = getIdSession();\r\n    // set as storage an object named sessionsgoals,\r\n    let ref;\r\n    // check for the record\r\n    if (localStorage.getItem(\"session-goals\")) {\r\n      ref = localStorage.getItem(\"session-goals\");\r\n    } else {\r\n      localStorage.setItem(\"session-goals\", \"[]\");\r\n      ref = localStorage.getItem(\"session-goals\");\r\n    }\r\n    //if array empty add the obj\r\n    if (ref === \"[]\") {\r\n      // array empty\r\n      const obj = {\r\n        sessionId: currentSessionId,\r\n        goals: [{ name: goal, done: false, resetted: false, info: \"\", last: 0 }]\r\n      };\r\n      let data = [obj];\r\n      //console.log(data);\r\n      localStorage.setItem(\"session-goals\", JSON.stringify(data));\r\n    } else {\r\n      //parse array from local storage\r\n      const arr = JSON.parse(ref);\r\n      console.log(\r\n        currentSessionId + \" ------   \" + arr[0].sessionId + \"   \" + arr[0]\r\n      );\r\n      if (currentSessionId === arr[0].sessionId) {\r\n        //push to array\r\n        const goalsArray = arr[0].goals;\r\n        let lock = false;\r\n        // check if there is already the same goal in the array\r\n        goalsArray.forEach(x => {\r\n          if (x.name === goal) {\r\n            lock = true;\r\n          }\r\n        });\r\n        //if there is no goal with this name add goal\r\n        if (!lock) {\r\n          goalsArray.push({\r\n            name: goal,\r\n            done: false,\r\n            resetted: false,\r\n            info: \"\",\r\n            last: 0\r\n          });\r\n          arr[0].goals = goalsArray;\r\n          localStorage.setItem(\"session-goals\", JSON.stringify(arr));\r\n        } else {\r\n          //continue\r\n          console.log(lock + \"goal already set for this session\");\r\n        }\r\n      } else {\r\n        // the storage has an object but the name of [0] does not match\r\n        // create a new session object\r\n        const obj = {\r\n          sessionId: currentSessionId,\r\n          goals: [\r\n            { name: goal, done: false, resetted: false, info: \"\", last: 0 }\r\n          ]\r\n        };\r\n        // getting from the local storage the array stored and parse\r\n        const dataArr = JSON.parse(ref);\r\n        //[{},{},...]\r\n        // pushing in the forst position [0] the new object\r\n        dataArr.unshift(obj);\r\n        // parsing back the object to string and set in local storage\r\n        localStorage.setItem(\"session-goals\", JSON.stringify(dataArr));\r\n        console.log(localStorage.getItem(\"session-goals\"));\r\n        console.log(\"new session for new goals\");\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n/// G O A L S   G O A L S   G O A L S    G O A L S\r\n\r\nconst checkGoalFromRecord = goalElement => {\r\n  const call = new _Calls_Calls__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\r\n  const goalName = goalElement.getAttribute(\"loading-id\");\r\n  const sessionId = goalElement.getAttribute(\"session-id\");\r\n  const form = goalElement.parentElement;\r\n  const inputText = form.querySelector(\"[loading-id=goal-info-input]\");\r\n  // find the right input\r\n  const input = form.querySelectorAll(\"[loading-id=goal-info-input]\");\r\n  // add class visible\r\n  input.forEach(i => i.classList.add(\"active\"));\r\n\r\n  form.addEventListener(\"submit\", e => {\r\n    e.preventDefault();\r\n    const info = inputText.value || \"\";\r\n    inputText.value = \"\";\r\n    call.checkGoal(goalName, sessionId, info);\r\n    input.forEach(i => i.classList.remove(\"active\"));\r\n    // if call returns something..\r\n    loadRecords();\r\n  });\r\n  // add listener to form on submit\r\n  //and call...\r\n\r\n  // refresh the result\r\n};\r\n\r\nconst loadInputAlarm = () => {\r\n  const ph = new _pages_pageHandler__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\r\n  const view = new _View__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\r\n  //set the page in the page handler, for the dom selector and view\r\n  ph.setCurrentPage(\"LOAD-ALARM-INPUT\");\r\n  //inside the domSelector set the element needed for this page\r\n  const elementsArray = Object(_pages_domSelector__WEBPACK_IMPORTED_MODULE_0__[\"domSelector\"])(ph.getCurrentPage());\r\n  // give the array to the view to load the form\r\n  view.fill(elementsArray, ph);\r\n};\r\n\r\nconst setAlarm = form => {\r\n  console.log(\"set alarm submitted\");\r\n  // take parameters out of thhe form,\r\n  const title = form.querySelector(\"[loading-id=alarm-name]\").value;\r\n  const body = \"\";\r\n  const date = form.querySelector(\"[loading-id=alarm-day]\").value.split(\"-\");\r\n  // extracting the date\r\n  const year = date[0];\r\n  const month = parseInt(date[1]) - 1;\r\n  const day = date[2];\r\n\r\n  let hours = form.querySelector(\"[loading-id=alarm-time-hours]\").value;\r\n  const minutes = form.querySelector(\"[loading-id=alarm-time-minutes]\").value;\r\n  // creating a date hakdlebar string\r\n\r\n  // cheks day undefined\r\n  if (\r\n    title === \"\" ||\r\n    title === \" \" ||\r\n    hours === \"\" ||\r\n    minutes === \"\" ||\r\n    isNaN(month) ||\r\n    date.length < 1\r\n  ) {\r\n    console.log(\" something empty \");\r\n  } else {\r\n    const d = new Date(year, month, day, hours, minutes, 0, 0);\r\n    // parse to ms\r\n    const dateParsedMs = Date.parse(d);\r\n\r\n    console.log(\"something empty\");\r\n    // is alarm field is false\r\n    const sessionId = getIdSession();\r\n    const newObj = {\r\n      title,\r\n      body,\r\n      date: Date.now(),\r\n      checked: false,\r\n      sessionId,\r\n      alarm: dateParsedMs\r\n    };\r\n    console.log(newObj);\r\n\r\n    if (addAlarm(newObj)) {\r\n      console.log(\"the alarm is set\");\r\n      // write object in records\r\n      const call = new _Calls_Calls__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\r\n      call.pushDataToIndexedDb(newObj);\r\n      loadRecords();\r\n    } else {\r\n      //\r\n      console.log(\"the record could not be inserted\");\r\n    }\r\n\r\n    // set as local storage alarms[{nameb, .. when}]\r\n    // loading the page if there are alarms check every minute.. until there are alarms loop goes\r\n    // it just checks in the alarms array when , if the time is up, show card popup and remove.\r\n  }\r\n};\r\n\r\nconst addAlarm = obj => {\r\n  const alarms = JSON.parse(localStorage.getItem(\"alarms\"));\r\n  let result = alarms || [];\r\n  // are used for the final chech to compare if the array has more elements\r\n\r\n  if (alarms) {\r\n    if (alarms.length < 1) {\r\n      // if for some reason push to []\r\n      console.log(\"array is empty, but inserting \");\r\n      result.push(obj);\r\n    } else {\r\n      // there are other records\r\n      result.push(obj);\r\n      console.log(\"isert in existing array\");\r\n    }\r\n  } else {\r\n    //set item and return true\r\n    console.log(\"no object in local storage\");\r\n    result.push(obj);\r\n  }\r\n  // last check\r\n  if (result && result.length > 0) {\r\n    localStorage.setItem(\"alarms\", JSON.stringify(result));\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\nconst refreshResultGoals = () => {\r\n  console.log(\"refresh goals\");\r\n  const call = new _Calls_Calls__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\r\n  // RESPONSE\r\n  const view = new _View__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\r\n  const ph = new _pages_pageHandler__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\r\n\r\n  //inside the domSelector set the element needed for this page\r\n  ph.setCurrentPage(\"LOAD-GOALS\");\r\n  ph.setResultSet(call.getGoals());\r\n  //\r\n  const elementsArray = Object(_pages_domSelector__WEBPACK_IMPORTED_MODULE_0__[\"domSelector\"])(ph.getCurrentPage());\r\n  // the view needs this instance of the object to load the html template extracting the oject of records\r\n  view.fill(elementsArray, ph);\r\n\r\n  // add event listener for buttons in the result\r\n\r\n  const result = document.querySelector(\"[loading-id=result-container]\");\r\n  const buttons = result.querySelectorAll(\"[loading-id=delete-goal]\");\r\n  const forms = result.querySelectorAll(\"[loading-id=form-info-goal]\");\r\n\r\n  if (buttons) {\r\n    console.log(buttons);\r\n    buttons.forEach(btn => {\r\n      btn.addEventListener(\"click\", e => deleteGoal(e));\r\n    });\r\n  }\r\n\r\n  console.log(forms);\r\n  if (forms) {\r\n    console.log(forms);\r\n    forms.forEach(btn => {\r\n      btn.addEventListener(\"submit\", checkGoal);\r\n    });\r\n  }\r\n};\r\n\r\nfunction deleteGoal(e) {\r\n  const name = e.target.getAttribute(\"info\");\r\n  const parent = e.target.parentElement;\r\n  const grandParent = parent.parentElement;\r\n  grandParent.removeChild(parent);\r\n  //get the goal name and delete\r\n  _Calls_Calls__WEBPACK_IMPORTED_MODULE_3__[\"default\"].prototype.deleteGoal(name);\r\n}\r\n\r\nfunction checkGoal(e) {\r\n  const call = new _Calls_Calls__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\r\n  const form = e.target;\r\n  const info = form.querySelector(\"[loading-id=goal-info-inputField]\").value;\r\n  const sessionId = form.getAttribute(\"session-id\");\r\n  const goalName = JSON.parse(form.getAttribute(\"info-obj\")).name;\r\n  // console.log(info, sessionId, goalName);\r\n  call.checkGoal(goalName, sessionId, info);\r\n  // best is make a form same as the other\r\n  refreshResultGoals();\r\n}\r\n\n\n//# sourceURL=webpack:///./dist/js/actions/index.js?");

/***/ }),

/***/ "./dist/js/eventListeners/index.js":
/*!*****************************************!*\
  !*** ./dist/js/eventListeners/index.js ***!
  \*****************************************/
/*! exports provided: activateFormButton, goalListener, activateSearchListener, listenNavbar, listenResult, mainClickListenerForClosingContents, alarmsCheck, activateGoalLoad */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"activateFormButton\", function() { return activateFormButton; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"goalListener\", function() { return goalListener; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"activateSearchListener\", function() { return activateSearchListener; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"listenNavbar\", function() { return listenNavbar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"listenResult\", function() { return listenResult; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mainClickListenerForClosingContents\", function() { return mainClickListenerForClosingContents; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"alarmsCheck\", function() { return alarmsCheck; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"activateGoalLoad\", function() { return activateGoalLoad; });\n/* harmony import */ var _actions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../actions */ \"./dist/js/actions/index.js\");\n\r\n\r\nconst loadingId = x => document.querySelector(\"[loading-id=\" + x + \"]\");\r\n\r\nconst activateFormButton = () => {\r\n  const form = loadingId(\"form-commands\");\r\n\r\n  if (form) {\r\n    form.addEventListener(\"submit\", e => {\r\n      e.preventDefault();\r\n      submitForm(e);\r\n    });\r\n  }\r\n};\r\n\r\n//goal bar listener\r\nconst goalListener = () => {\r\n  const goalsBar = document.querySelectorAll(\"[loading-id=goals-listener]\");\r\n  if (goalsBar && goalsBar.length > 0) {\r\n    goalsBar.forEach(bar => {\r\n      bar.addEventListener(\"click\", goalsListenerDelegation);\r\n    });\r\n  }\r\n};\r\n\r\n//search\r\nconst activateSearchListener = () => {\r\n  const searchInput = document.querySelector(\"[loading-id=input-search]\");\r\n  if (searchInput) {\r\n    searchInput.addEventListener(\"keyup\", e => Object(_actions__WEBPACK_IMPORTED_MODULE_0__[\"searchRecord\"])(e.target.value));\r\n  }\r\n};\r\n\r\nconst submitForm = e => {\r\n  // GETTING THE VALUE FROM THE FIRST DIV IN THE TEMPLATE\r\n  const submitted = e.target.firstChild.nextSibling.getAttribute(\"loading-id\");\r\n  const form = e.target;\r\n  // initiate a class that handles the calls\r\n  switch (submitted) {\r\n    case \"SEARCH-DATA\":\r\n      // console.log(submitted);\r\n      // displaying the result set\r\n      Object(_actions__WEBPACK_IMPORTED_MODULE_0__[\"loadRecords\"])();\r\n      // calling action to query api and fill the new view of the result\r\n      break;\r\n    case \"INSERT-DATA\":\r\n      Object(_actions__WEBPACK_IMPORTED_MODULE_0__[\"insertRecord\"])(form);\r\n      //  console.log(submitted);\r\n      break;\r\n    case \"LOAD-SESSION-GOAL\":\r\n      Object(_actions__WEBPACK_IMPORTED_MODULE_0__[\"setGoal\"])(form);\r\n      break;\r\n\r\n    case \"LOAD-ALARM-INPUT\":\r\n      Object(_actions__WEBPACK_IMPORTED_MODULE_0__[\"setAlarm\"])(form);\r\n      alarmsCheck();\r\n      break;\r\n\r\n    default:\r\n      console.log(\"default value of switch for form event listener\");\r\n  }\r\n\r\n  // take the inputs and send a post request to backend for to load the record\r\n};\r\n\r\nfunction listenNavbar() {\r\n  const navbar = loadingId(\"navbar-commands\");\r\n  if (navbar) {\r\n    navbar.addEventListener(\"click\", e => delegationNavbar(e));\r\n  }\r\n\r\n  const delegationNavbar = e => {\r\n    // get attribute of clicked element\r\n    const trgt = e.target.getAttribute(\"loading-id\");\r\n\r\n    if (trgt === \"search-data\") {\r\n      //load form to search\r\n      Object(_actions__WEBPACK_IMPORTED_MODULE_0__[\"loadSearchData\"])();\r\n      activateSearchListener();\r\n      console.log(trgt);\r\n      // loads the result\r\n      Object(_actions__WEBPACK_IMPORTED_MODULE_0__[\"loadRecords\"])();\r\n    } else if (trgt === \"add-data\") {\r\n      // load the form\r\n      Object(_actions__WEBPACK_IMPORTED_MODULE_0__[\"loadInsertData\"])();\r\n      console.log(trgt);\r\n    } else if (trgt === \"set-session-goal\") {\r\n      Object(_actions__WEBPACK_IMPORTED_MODULE_0__[\"loadInputsSessionGoal\"])();\r\n      activateGoalLoad();\r\n    } else if (trgt === \"set-session-alarm\") {\r\n      Object(_actions__WEBPACK_IMPORTED_MODULE_0__[\"loadInputAlarm\"])();\r\n    }\r\n  };\r\n}\r\n\r\nconst listenResult = () => {\r\n  const resultContainer = loadingId(\"result-container\");\r\n  if (resultContainer) {\r\n    resultContainer.addEventListener(\"click\", resultDelegation);\r\n  }\r\n};\r\n\r\nconst resultDelegation = e => {\r\n  // checking if it has a js attribute\r\n  let attribute = e.target.getAttribute(\"loading-id\") || undefined;\r\n  //checking if an attribute with attribute there is\r\n  if (attribute) {\r\n    // split the id and the attribute\r\n    if (attribute.startsWith(\"delete-record-\")) {\r\n      // taking as array last numbers of attribute to have the id\r\n      let id = attribute.split(\"\").splice(14, attribute.length - 14);\r\n      // id is an array\r\n      id = id.join(\"\");\r\n      Object(_actions__WEBPACK_IMPORTED_MODULE_0__[\"deleteRecord\"])(id);\r\n      //\r\n    } else if (attribute.startsWith(\"check-record-\")) {\r\n      console.log(\"calling action to modify thing in db\");\r\n      let id = attribute.split(\"\").splice(13, attribute.length - 13);\r\n      // id is an array\r\n      id = id.join(\"\");\r\n\r\n      Object(_actions__WEBPACK_IMPORTED_MODULE_0__[\"checkRecord\"])(id);\r\n      Object(_actions__WEBPACK_IMPORTED_MODULE_0__[\"deleteRecord\"])(id);\r\n      Object(_actions__WEBPACK_IMPORTED_MODULE_0__[\"loadRecords\"])();\r\n    }\r\n  }\r\n};\r\n\r\n/***\r\n *  GOAL LISTENER IS IN THE MAIN LISTENER FOR CLOSING CONTEN..\r\n * FOR FLOW REASON\r\n */\r\nfunction goalsListenerDelegation(e) {\r\n  const goalElement = e.target;\r\n  console.log(goalElement); // prints the whole node of results the outer span\r\n  Object(_actions__WEBPACK_IMPORTED_MODULE_0__[\"checkGoalFromRecord\"])(goalElement);\r\n}\r\n\r\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\nfunction mainClickListenerForClosingContents() {\r\n  document.addEventListener(\"click\", e => {\r\n    //check for elements\r\n    const goalFormStuff = document.querySelectorAll(\r\n      \"[loading-id=goal-info-input]\"\r\n    );\r\n    if (goalFormStuff && goalFormStuff.length > 0) {\r\n      console.log(\"there is the form somewhere\");\r\n      if (\r\n        e.target.getAttribute(\"loading-id\") !== \"goal-info-input\" &&\r\n        !e.target.hasAttribute(\"session-id\")\r\n      ) {\r\n        // closing other windows\r\n        const input = document.querySelectorAll(\"[loading-id=goal-info-input]\");\r\n        input.forEach(i => i.classList.remove(\"active\"));\r\n      } else if (e.target.hasAttribute(\"session-id\")) {\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nfunction alarmsCheck() {\r\n  const alarms = localStorage.getItem(\"alarms\");\r\n  let timeout = setTimeout(alarmsCheck, 1000 * 10);\r\n  //check if there is the object\r\n  if (alarms && alarms !== \"[]\") {\r\n    JSON.parse(alarms).forEach((elem, index) => {\r\n      //loop throught the obj arr and find if one has an alarm\r\n      if (elem.alarm > 1000 && elem.alarm !== \"\") {\r\n        if (Date.now() > elem.alarm) {\r\n          alert(elem.title);\r\n          let resetArr = [...JSON.parse(alarms)];\r\n          resetArr.splice(index, 1);\r\n          localStorage.setItem(\"alarms\", JSON.stringify(resetArr));\r\n        }\r\n      }\r\n    });\r\n  } else {\r\n    //console.log(\"NO alarms are set\");\r\n    clearTimeout(timeout);\r\n  }\r\n}\r\n\r\nfunction activateGoalLoad() {\r\n  const form = document.querySelector(\"[loading-id=form-commands]\");\r\n  if (form) {\r\n    const button = form.querySelector(\"[loading-id=load-goals]\");\r\n    button.addEventListener(\"click\", _actions__WEBPACK_IMPORTED_MODULE_0__[\"refreshResultGoals\"]);\r\n  }\r\n}\r\n\n\n//# sourceURL=webpack:///./dist/js/eventListeners/index.js?");

/***/ }),

/***/ "./dist/js/main.js":
/*!*************************!*\
  !*** ./dist/js/main.js ***!
  \*************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _pages_pageHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pages/pageHandler */ \"./dist/js/pages/pageHandler.js\");\n/* harmony import */ var _pages_domSelector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pages/domSelector */ \"./dist/js/pages/domSelector.js\");\n/* harmony import */ var _View__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./View */ \"./dist/js/View/index.js\");\n/* harmony import */ var _eventListeners__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./eventListeners */ \"./dist/js/eventListeners/index.js\");\n\r\n\r\n\r\n\r\n//on page loaded\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  // set base to load the components\r\n  // const login = prompt(\"log - in - name\");\r\n  if (true) {\r\n    const ph = new _pages_pageHandler__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\r\n    const view = new _View__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\r\n    const page = ph.getCurrentPage();\r\n    // having the page to load fill the components needed\r\n    const elementsArray = Object(_pages_domSelector__WEBPACK_IMPORTED_MODULE_1__[\"domSelector\"])(page); // swithc for to find the layout\r\n    // call view with the page and the elements to load\r\n    view.fill(elementsArray, ph);\r\n    // event listener fr the navbar\r\n\r\n    Object(_eventListeners__WEBPACK_IMPORTED_MODULE_3__[\"listenNavbar\"])();\r\n    Object(_eventListeners__WEBPACK_IMPORTED_MODULE_3__[\"activateFormButton\"])();\r\n    Object(_eventListeners__WEBPACK_IMPORTED_MODULE_3__[\"listenResult\"])();\r\n    Object(_eventListeners__WEBPACK_IMPORTED_MODULE_3__[\"mainClickListenerForClosingContents\"])();\r\n    Object(_eventListeners__WEBPACK_IMPORTED_MODULE_3__[\"alarmsCheck\"])();\r\n  } //end if login\r\n});\r\n\n\n//# sourceURL=webpack:///./dist/js/main.js?");

/***/ }),

/***/ "./dist/js/pages/domSelector.js":
/*!**************************************!*\
  !*** ./dist/js/pages/domSelector.js ***!
  \**************************************/
/*! exports provided: domSelector */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"domSelector\", function() { return domSelector; });\nfunction domSelector(page) {\r\n  let elementsArray = new Array();\r\n  const loadingId = x => document.querySelector(\"[loading-id=\" + x + \"]\");\r\n  switch (page) {\r\n    case \"INSERT-DATA\":\r\n      // return the array of elements that the view needs\r\n      elementsArray = [];\r\n      elementsArray.push(loadingId(\"form-commands\"));\r\n      elementsArray.push(loadingId(\"subtitle\"));\r\n      break;\r\n    case \"LOAD-RESULTS\":\r\n      elementsArray = [];\r\n      elementsArray.push(loadingId(\"result-container\"));\r\n      break;\r\n    case \"SEARCH-DATA\":\r\n      elementsArray = [];\r\n      elementsArray.push(loadingId(\"form-commands\"));\r\n      elementsArray.push(loadingId(\"subtitle\"));\r\n      break;\r\n    case \"LOAD-SESSION-GOAL\":\r\n      elementsArray = [];\r\n      elementsArray.push(loadingId(\"form-commands\"));\r\n      elementsArray.push(loadingId(\"subtitle\"));\r\n      break;\r\n    case \"LOAD-ALARM-INPUT\":\r\n      elementsArray = [];\r\n      elementsArray.push(loadingId(\"form-commands\"));\r\n      elementsArray.push(loadingId(\"subtitle\"));\r\n      break;\r\n    case \"LOAD-GOALS\":\r\n      elementsArray = [];\r\n      elementsArray.push(loadingId(\"result-container\"));\r\n      break;\r\n\r\n    default:\r\n      console.log(\"default\");\r\n  }\r\n  return elementsArray;\r\n}\r\n\n\n//# sourceURL=webpack:///./dist/js/pages/domSelector.js?");

/***/ }),

/***/ "./dist/js/pages/pageHandler.js":
/*!**************************************!*\
  !*** ./dist/js/pages/pageHandler.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nclass PageHandler {\r\n  constructor() {\r\n    this.currentPage = \"INSERT-DATA\";\r\n    this.resultSet = [];\r\n  }\r\n\r\n  // SET GET ter for CurrentPage\r\n  getCurrentPage() {\r\n    return this.currentPage;\r\n  }\r\n  setCurrentPage(page) {\r\n    this.currentPage = page;\r\n  }\r\n\r\n  // SET GET ter for resultSet\r\n  getResultSet() {\r\n    return this.resultSet;\r\n  }\r\n  setResultSet(resultSet) {\r\n    this.resultSet = resultSet;\r\n  }\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (PageHandler);\r\n\n\n//# sourceURL=webpack:///./dist/js/pages/pageHandler.js?");

/***/ }),

/***/ 0:
/*!*******************************!*\
  !*** multi ./dist/js/main.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__(/*! ./dist/js/main.js */\"./dist/js/main.js\");\n\n\n//# sourceURL=webpack:///multi_./dist/js/main.js?");

/***/ })

/******/ });